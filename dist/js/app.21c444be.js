(function(t){function n(n){for(var a,i,c=n[0],o=n[1],u=n[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(n);while(f.length)f.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,n=0;n<s.length;n++){for(var e=s[n],a=!0,c=1;c<e.length;c++){var o=e[c];0!==r[o]&&(a=!1)}a&&(s.splice(n--,1),t=i(i.s=e[0]))}return t}var a={},r={app:0},s=[];function i(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)i.d(e,a,function(n){return t[n]}.bind(null,a));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=o;s.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"00a4":function(t,n,e){},"0287":function(t,n,e){},"1f30":function(t,n,e){},3105:function(t,n,e){},3941:function(t,n,e){"use strict";var a=e("0287"),r=e.n(a);r.a},"3fad":function(t,n,e){},4987:function(t,n,e){t.exports=e.p+"img/game-logo.c8c5c1a7.png"},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("WelcomePage")],1)},s=[],i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"welcome"},[e("div",{staticClass:"context"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.startGame?e("GamePage",{key:"game",staticClass:"game"}):e("IntroPage",{key:"intro",on:{"show-game":function(n){t.startGame=!0}}})],1)],1),t._m(0)])},c=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"area"},[e("ul",{staticClass:"circles"},[e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li"),e("li")])])}],o=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"intro"},[a("img",{staticClass:"icon",attrs:{alt:"game-icon",src:e("4987")}}),a("Button",{attrs:{"button-name":"PLAY"},nativeOn:{click:function(n){return t.$emit("show-game")}}})],1)},u=[],l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"default-button",class:t.getButtonClasses},[t._v(t._s(t.buttonName))])},d=[],f={name:"Button",props:{buttonName:String,isEnabled:{type:Boolean,default:!0}},computed:{getButtonClasses:function(){return this.isEnabled?"":"disabled"}}},m=f,h=(e("cb68"),e("2877")),p=Object(h["a"])(m,l,d,!1,null,"8373da30",null),v=p.exports,b={name:"IntroPage",components:{Button:v},props:{result:String,isDisplayed:Boolean}},g=b,S=(e("ec3f"),Object(h["a"])(g,o,u,!1,null,"1925166c",null)),_=S.exports,E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"game-area"},[e("div",{staticClass:"dealer-side"},[e("GameHand",{attrs:{hand:this.hands[0],"is-face-down":0!=t.activeHandIndex,"hand-index":0}})],1),e("div",{staticClass:"player-side"},t._l(t.hands,(function(n,a){return a>0?e("GameHand",{key:a,attrs:{hand:n,"hand-index":a}}):t._e()})),1),e("Chip",{staticClass:"bank",attrs:{color:"orange",quantity:t.bank[1]}}),e("ButtonPanel")],1)},O=[],T=e("5530"),C=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"button-panel"},[e("Button",{attrs:{"is-enabled":t.isDealing&&0!=t.activeHandIndex,"button-name":"STAND"},nativeOn:{click:function(n){return t.onStand()}}}),e("Button",{attrs:{"is-enabled":t.isDealing&&0!=t.activeHandIndex,"button-name":"HIT"},nativeOn:{click:function(n){return t.onHit()}}})],1)},D=[],R=e("2f62"),x={name:"ButtonPanel",components:{Button:v},data:function(){return{dealersTurn:!1}},computed:Object(T["a"])({},Object(R["c"])(["isDealing","bank","activeHandIndex"])),methods:{onHit:function(){this.$store.dispatch("hit",1)},onStand:function(){this.$store.dispatch("stand",1)}}},y=x,H=(e("8dbd"),Object(h["a"])(y,C,D,!1,null,"e4acad04",null)),k=H.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:t.handClasses},[e("transition-group",{attrs:{name:"deal",tag:"div"}},t._l(t.hand.cards,(function(n,a){return e("Card",{key:n.value+n.suit,attrs:{"card-value":n.value,"card-suit":n.suit,"is-face-down":0==a&&t.isFaceDown}})})),1),t.isFaceDown?t._e():e("HandTotal",{attrs:{score:t.getTotal(t.handIndex)}}),e("Result",{attrs:{"is-displayed":0!=t.handIndex&&t.isRoundOver,result:t.hand.result}})],1)},j=[],I=(e("a9e3"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"playing-card"},[e("section",{staticClass:"cards"},[t.isFaceDown?e("section",{staticClass:"card card--down"}):e("section",{staticClass:"card",class:t.getCardClasses,attrs:{value:t.cardValue}})])])}),B=[],w={name:"Card",props:{cardValue:String,cardSuit:String,isFaceDown:Boolean},computed:{getCardClasses:function(){switch(this.cardSuit){case"spade":return"card--spade";case"heart":return"card--heart";case"diamond":return"card--diamond";case"club":return"card--club";default:return"card--down"}}}},N=w,P=(e("81c3"),Object(h["a"])(N,I,B,!1,null,"50e0fc5c",null)),L=P.exports,$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.score>0?e("div",{staticClass:"score-bubble"},[t._v(t._s(t.score))]):t._e()},G=[],U={name:"HandTotal",props:{score:String}},F=U,J=(e("bb6d"),Object(h["a"])(F,$,G,!1,null,null,null)),K=J.exports,W=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"bounce"}},[t.isDisplayed?e("div",{key:"result",staticClass:"result-bubble",class:t.result},[e("div",[t._v(t._s(t.result.toUpperCase()))])]):t._e()])},M=[],q={name:"Result",props:{result:String,isDisplayed:Boolean}},V=q,Q=(e("3941"),Object(h["a"])(V,W,M,!1,null,"612d7c04",null)),Y=Q.exports,z={name:"GamePage",components:{Card:L,HandTotal:K,Result:Y},props:{hand:{type:Object,default:function(){}},isFaceDown:{type:Boolean,default:!1},handIndex:{type:Number,required:!0}},computed:Object(T["a"])(Object(T["a"])(Object(T["a"])({},Object(R["b"])(["getTotal"])),Object(R["c"])(["hands","isRoundOver"])),{},{handClasses:function(){return 0==this.handIndex?"game-hand is-dealer":"game-hand"}})},X=z,Z=(e("a9e1"),Object(h["a"])(X,A,j,!1,null,"63ba5b04",null)),tt=Z.exports,nt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{class:t.getChipClasses},[e("p",[t._v(t._s(t.quantity))])])])},et=[],at={name:"Chip",props:{quantity:Number,color:String},computed:{getChipClasses:function(){return"chip "+this.color}}},rt=at,st=(e("8030"),Object(h["a"])(rt,nt,et,!1,null,"38198d3e",null)),it=st.exports,ct={name:"GamePage",components:{ButtonPanel:k,GameHand:tt,Chip:it},data:function(){return{result:null}},created:function(){this.$store.dispatch("initGame")},computed:Object(T["a"])({},Object(R["c"])(["hands","bank","activeHandIndex"]))},ot=ct,ut=(e("c32e"),Object(h["a"])(ot,E,O,!1,null,"2eadad50",null)),lt=ut.exports,dt={name:"WelcomePage",components:{IntroPage:_,GamePage:lt},data:function(){return{startGame:!1}}},ft=dt,mt=(e("7627"),Object(h["a"])(ft,i,c,!1,null,"1b0bb552",null)),ht=mt.exports,pt={name:"App",components:{WelcomePage:ht}},vt=pt,bt=(e("880d"),Object(h["a"])(vt,r,s,!1,null,null,null)),gt=bt.exports,St=(e("4160"),e("fb6a"),e("45fc"),e("159b"),e("99af"),e("7db0"),e("d81d"),e("13d5"),e("d3b7"),e("25f0"),{BUST:{result:"bust",score:0},WIN:{result:"win",score:2},LOSE:{result:"lose",score:0},STANDOFF:{result:"standoff",score:1},BLACKJACK:{result:"blackjack",score:3}}),_t={a:1,J:10,Q:10,K:10,A:11},Et=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],Ot=["spade","heart","diamond","club"],Tt=function(t){for(var n=t.slice(),e=n.length-1;e>0;e--){var a=Math.floor(Math.random()*(e+1)),r=[n[a],n[e]];n[e]=r[0],n[a]=r[1]}return n},Ct=function(){var t=[];return Et.forEach((function(n){Ot.forEach((function(e){t.push({value:n,suit:e})}))})),t};function Dt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=[],e=0;e<t;e++)n=n.concat(Ct());return Tt(n)}function Rt(t){var n=_t[t.value]?_t[t.value]:t.value;return parseInt(n)}var xt=function(t){return t.some((function(t){return"A"===t.value}))};function yt(t){if(xt(t)){if(kt(t))return"21";var n=It(!0,t),e=It(!1,t);return n>21?e.toString():n.toString()}return t.reduce(Ht,0)}var Ht=function(t,n){return t+Rt(n)},kt=function(t){var n=21===It(!0,t);return!(!xt(t)||!n)},At=function(t){var n=Object(T["a"])({},t);return"A"===n.value&&(n.value="a"),n},jt=function(t){var n=t.slice(),e=n.find((function(t){return"a"===t.value}));return e.value="A",n};function It(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,e=n.map(At),a=e.reduce(Ht,0),r=jt(e),s=r.reduce(Ht,0);return s<=21||t?s:a}function Bt(t,n){var e=yt(t),a=yt(n);return 2==t.length&&a>21?St.BUST:e>a&&e<21?St.LOSE:a==e?St.STANDOFF:a<21&&e>21?St.WIN:21==a&&21!=e?2==n.length?St.BLACKJACK:St.WIN:21==e&&21!=a?St.LOSE:a>e&&a<21?St.WIN:void 0}var wt={RESULTS:St,createShoe:Dt,getHandTotal:yt,checkResult:Bt},Nt=500,Pt={initGame:function(t){t.commit("RESET_BANK"),t.commit("RESET_SHOE"),t.dispatch("resetRound")},resetRound:function(t){t.commit("RESET_HANDS"),t.commit("RESET_ROUND"),t.dispatch("reshuffle"),setTimeout((function(){t.commit("BET"),t.dispatch("startRound")}),2*Nt)},reshuffle:function(t){var n=t.commit,e=t.state,a=e.shoe.length,r=52*e.gameSettings.nbDecks,s=1-a/r;s>=e.gameSettings.shoeReshuffleAfter&&n("RESET_SHOE")},startRound:function(t){var n=t.dispatch;n("dealHand")},dealHand:function(t){var n=t.commit,e=t.state;if(e.hands[1].bet){var a=[1,0,1,0];a.forEach((function(t,e){setTimeout((function(){n("DEAL_CARD",t)}),Nt*(e+1))})),n("STAND",0),n("SET_IS_DEALING",{isDealing:!0})}},hit:function(t,n){var e=t.state,a=t.commit,r=t.dispatch;a("DEAL_CARD",n);var s=e.hands[0].cards,i=e.hands[n].cards,c=wt.checkResult(s,i);c.result==wt.RESULTS.BUST.result&&(a("SET_RESULTS",{result:c,handIndex:n}),r("endRound"))},stand:function(t,n){var e=t.state,a=t.commit,r=t.dispatch;a("STAND",n),0==e.activeHandIndex&&setTimeout((function(){r("playDealerHand")}),2*Nt)},playDealerHand:function(t){var n=t.state,e=t.dispatch,a=n.hands.slice(),r=a.shift();a.forEach((function(t,n){e("makeDecision",{dealerHand:r.cards,playerHand:t.cards,handIndex:n+1})}))},makeDecision:function(t,n){var e=t.commit,a=t.dispatch,r=n.dealerHand,s=n.playerHand,i=n.handIndex,c=null;wt.getHandTotal(r)>=17?c=wt.checkResult(r,s):(e("DEAL_CARD",0),a("stand",i)),c&&(e("SET_RESULTS",{result:c,handIndex:i}),a("endRound"))},endRound:function(t){var n=t.state,e=t.commit,a=t.dispatch,r=n.hands.slice();r.shift();var s=r.some((function(t){return null==t.result}));s||(e("ROUND_OVER"),setTimeout((function(){a("resetRound")}),5*Nt))}},Lt={getTotal:function(t){return function(n){return wt.getHandTotal(t.hands[n].cards).toString()}}},$t={cards:[],bet:null,result:null,score:null},Gt=function(t){return JSON.parse(JSON.stringify(t))},Ut={RESET_SHOE:function(t){t.shoe=wt.createShoe(t.nbDecks)},RESET_BANK:function(t){t.bank=[];for(var n=0;n<t.gameSettings.nbHands;n++)t.bank.push(t.gameSettings.startingBank)},RESET_HANDS:function(t){t.hands=[];for(var n=0;n<t.gameSettings.nbHands;n++)t.hands.push(Gt($t))},DEAL_CARD:function(t,n){t.hands[n].cards.push(t.shoe.shift())},BET:function(t){t.hands.forEach((function(n,e){t.bank[e]<t.gameSettings.minimumBet||(t.bank[e]-=t.gameSettings.minimumBet,n.bet=t.gameSettings.minimumBet)}))},STAND:function(t,n){t.hands.length-1>n?t.activeHandIndex=n+1:t.activeHandIndex=0},SET_IS_DEALING:function(t,n){var e=n.isDealing;t.isDealing=e},SET_RESULTS:function(t,n){var e=n.result,a=n.handIndex;t.hands[a].result=e.result,t.hands[a].score=e.score,t.bank[a]+=t.hands[a].bet*e.score,t.isDealing=!1},ROUND_OVER:function(t){t.isRoundOver=!0},RESET_ROUND:function(t){t.isRoundOver=!1,t.activeHandIndex=null}};a["a"].use(R["a"]);var Ft={gameSettings:{nbDecks:6,startingBank:20,shoeReshuffleAfter:.5,minimumBet:1,nbHands:2},bank:[],shoe:[],hands:[],isRoundOver:!1,activeHandIndex:null,isDealing:!1},Jt=new R["a"].Store({state:Ft,mutations:Ut,actions:Pt,getters:Lt});a["a"].config.productionTip=!1,new a["a"]({store:Jt,render:function(t){return t(gt)}}).$mount("#app")},"5ec2":function(t,n,e){},7627:function(t,n,e){"use strict";var a=e("00a4"),r=e.n(a);r.a},8030:function(t,n,e){"use strict";var a=e("e402"),r=e.n(a);r.a},"81c3":function(t,n,e){"use strict";var a=e("88d1"),r=e.n(a);r.a},"880d":function(t,n,e){"use strict";var a=e("1f30"),r=e.n(a);r.a},"88d1":function(t,n,e){},"8dbd":function(t,n,e){"use strict";var a=e("f52f"),r=e.n(a);r.a},"8ea5":function(t,n,e){},a9e1:function(t,n,e){"use strict";var a=e("3fad"),r=e.n(a);r.a},bb6d:function(t,n,e){"use strict";var a=e("ca8a"),r=e.n(a);r.a},c32e:function(t,n,e){"use strict";var a=e("8ea5"),r=e.n(a);r.a},ca8a:function(t,n,e){},cb68:function(t,n,e){"use strict";var a=e("5ec2"),r=e.n(a);r.a},e402:function(t,n,e){},ec3f:function(t,n,e){"use strict";var a=e("3105"),r=e.n(a);r.a},f52f:function(t,n,e){}});
//# sourceMappingURL=app.21c444be.js.map